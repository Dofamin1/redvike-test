FROM node:18-alpine

WORKDIR /home/app

COPY . .

RUN npm ci --include=dev
RUN npm run build
RUN npm prune

ENV PORT=3000
ENV HOST='0.0.0.0'

EXPOSE 3000

CMD [ "npm", "run", "start" ]
